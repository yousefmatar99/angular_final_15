<div class="home-content">
  <ng-container *ngIf="stat_data; else loading">
    <div class="stats-container">
      <div class="stat-card">
        <h3>Customers</h3>
        <p>{{ stat_data.customersNum || 0 }}</p>
      </div>
      <div class="stat-card">
        <h3>Partners</h3>
        <p>{{ stat_data.partnersNum || 0 }}</p>
      </div>
      <div class="stat-card">
        <h3>Cars</h3>
        <p>{{ stat_data.carsNum || 0 }}</p>
      </div>
      <div class="stat-card">
        <h3>Total Reservations</h3>
        <p>{{ stat_data.totalReservationsNum || 0 }}</p>
      </div>
      <div class="stat-card">
        <h3>Closed Reservations</h3>
        <p>{{ stat_data.closedReservationsNum || 0 }}</p>
      </div>
      <div class="stat-card">
        <h3>Problematic Reservations</h3>
        <p>{{ stat_data.problematicReservationsNum || 0 }}</p>
      </div>
    </div>

    <h4 class="chart-title">
      Users (Total: {{ primaryData[0] + primaryData[1] }})
    </h4>
    <div class="bar-chart">
      <div class="bar-wrapper" *ngFor="let pct of primaryPct; index as i">
        <div class="bar" [style.height.%]="pct"></div>
        <span class="bar-label">{{ primaryLabels[i] }}</span>
        <span class="bar-value">{{ primaryData[i] }}</span>
      </div>
    </div>

    <h4 class="chart-title">
      Reservations (Total: {{ reservationData[0] }})
    </h4>
    <div class="bar-chart">
      <div class="bar-wrapper" *ngFor="let pct of reservationPct; index as i">
        <div class="bar" [style.height.%]="pct"></div>
        <span class="bar-label">{{ reservationLabels[i] }}</span>
        <span class="bar-value">{{ reservationData[i] }}</span>
      </div>
    </div>
  </ng-container>

  <ng-template #loading>
    <div class="loading">Loading statisticsâ€¦</div>
  </ng-template>
</div>
